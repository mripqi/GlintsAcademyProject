{"ast":null,"code":"var _jsxFileName = \"/home/muhammad/react_project/axiosapi/src/componen/Todo.js\";\nimport React, { useState, useEffect } from 'react';\nimport Header from './Header';\nimport axios from 'axios';\nimport './Todo.css';\nexport default function Todo() {\n  const [updateClick, setUpdateClick] = useState(false);\n  const [data, setData] = useState([]);\n  const [kondisi, setKondisi] = useState([]);\n  const [input, setInput] = useState(\"\");\n  const [isSelected, setSelection] = useState(false);\n\n  const handleClick = () => {\n    let object = {\n      title: input\n    };\n    axios.post(`https://btm-rn.herokuapp.com/api/v1/todo`, object).then(res => {\n      console.log(res);\n      get();\n    });\n  };\n\n  const get = async () => {\n    const result = await axios('https://btm-rn.herokuapp.com/api/v1/todo');\n    setData(result.data.results);\n  };\n\n  useEffect(async () => {\n    get();\n  }, []);\n\n  const update = i => {\n    setUpdateClick(true);\n    changeTodo(i);\n  };\n\n  const handleCheck = e => {\n    var checked = e.target.checked;\n    setSelection(checked);\n  };\n\n  const changeTodo = (val, i) => {\n    console.log('state', kondisi[i]);\n\n    if (!updateClick) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        name: \"isSelected\",\n        type: \"checkbox\",\n        value: isSelected,\n        onChange: handleCheck,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 14\n        }\n      }), isSelected ? /*#__PURE__*/React.createElement(\"p\", {\n        style: {\n          textDecorationLine: 'line-through'\n        },\n        className: \"isi\",\n        key: i,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 30\n        }\n      }, val.title) : /*#__PURE__*/React.createElement(\"p\", {\n        className: \"isi\",\n        key: i,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 121\n        }\n      }, val.title));\n    } else {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 20\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        name: \"input\",\n        onChange: e => setInput(e.target.value),\n        style: {\n          display: \"flex\",\n          flex: 1,\n          height: 20,\n          alignItems: \"stretch\"\n        },\n        placeholder: data.title,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"submit\",\n        value: \"Save\",\n        onClick: () => UpdateTodo(i),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }\n      }));\n    }\n  };\n\n  const UpdateTodo = index => {\n    let inputText = input;\n    let DataArray = data;\n\n    if (inputText.length !== 0) {\n      DataArray[index].title = inputText;\n      setData([...DataArray]);\n    }\n\n    setUpdateClick(false);\n  };\n\n  const DeleteTodo = index => {\n    let DataArray = data;\n    DataArray.splice(index, 1);\n    setData([...DataArray]);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      justifyContent: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"input\",\n    onChange: e => setInput(e.target.value),\n    style: {\n      display: \"flex\",\n      flex: 1,\n      height: 20,\n      alignItems: \"stretch\",\n      borderColor: \"black\",\n      borderStyle: \"double\",\n      padding: 20\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"Add\",\n    onClick: () => handleClick(),\n    className: \"buttontodo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 13\n    }\n  }), data.map((val, i) => /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      flex: '1',\n      justifyContent: 'space-between'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 17\n    }\n  }, changeTodo(val, i), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"buttontodo\",\n    index: i,\n    onClick: () => update(i),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 25\n    }\n  }, \"Update\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"buttontodo\",\n    index: i,\n    onClick: () => DeleteTodo(i),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 25\n    }\n  }, \"Delete\")))));\n}","map":{"version":3,"sources":["/home/muhammad/react_project/axiosapi/src/componen/Todo.js"],"names":["React","useState","useEffect","Header","axios","Todo","updateClick","setUpdateClick","data","setData","kondisi","setKondisi","input","setInput","isSelected","setSelection","handleClick","object","title","post","then","res","console","log","get","result","results","update","i","changeTodo","handleCheck","e","checked","target","val","textDecorationLine","value","display","flex","height","alignItems","UpdateTodo","index","inputText","DataArray","length","DeleteTodo","splice","justifyContent","borderColor","borderStyle","padding","map"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\nimport Header from './Header'\nimport axios from 'axios'\nimport './Todo.css'\n\nexport default function Todo() {\n    \n    const [updateClick, setUpdateClick] = useState(false)\n    const [data, setData] = useState([]);\n    const [kondisi, setKondisi] = useState([])\n    const [input, setInput] = useState(\"\");\n    const [isSelected, setSelection] = useState(false);\n\n    const handleClick =() =>{\n        \n        let object = {\n            title: input\n        }\n        axios.post(`https://btm-rn.herokuapp.com/api/v1/todo`,  object )\n        .then(res => {\n            console.log(res);\n            get()\n          })\n    }\n\n    const get = async() =>{\n        const result = await axios(\n            'https://btm-rn.herokuapp.com/api/v1/todo',\n          );\n       \n          setData(result.data.results);\n    }\n\n    useEffect(async () => {\n        get()\n      }, []);\n\n      const update = (i) =>{\n          setUpdateClick(true)\n          changeTodo(i)\n      }\n      const handleCheck = (e) =>{\n        var checked = e.target.checked;\n        setSelection(checked)\n      }\n\n      const changeTodo = (val, i) => {\n          console.log('state',kondisi[i])\n        if(!updateClick) {\n            return (\n            <div>\n             <input\n            name=\"isSelected\"\n            type=\"checkbox\"\n            value={isSelected}\n            onChange={handleCheck}\n            />\n            {\n                isSelected ? <p style={{ textDecorationLine: 'line-through' }} className=\"isi\" key={i}>{val.title}</p> :<p className=\"isi\" key={i}>{val.title}</p>\n            }\n           {/* <p className=\"isi\" key={i}>{val.title}</p> */}\n            </div>\n            )   \n        } else {\n            return <div>\n            <input type=\"text\" name=\"input\" \n                onChange={(e)=> setInput(e.target.value)}\n                style={{\n                display: \"flex\",\n                flex: 1,\n                height: 20 ,\n                alignItems: \"stretch\",       \n                }}           \n                placeholder = {data.title}\n            />   \n            <input  type=\"submit\" value=\"Save\" onClick={() =>UpdateTodo(i)}/>\n            </div>  \n        }\n      }\n\n      const UpdateTodo = (index) => {\n        let inputText = input\n        let DataArray = data\n        \n        if(inputText.length !== 0){\n            DataArray[index].title = inputText\n        setData([...DataArray])    \n        }\n        setUpdateClick(false)\n      }\n\n      const DeleteTodo = (index) => {\n        let DataArray = data\n        DataArray.splice(index, 1);\n        setData([...DataArray])\n      }\n\n\n    return (\n\n        <div className='content'>\n            <Header />\n            <div style={{\n            display: 'flex',\n            justifyContent: 'center',\n            }}>\n                <input type=\"text\" name=\"input\" \n                onChange={(e)=> setInput(e.target.value)}\n                style={{\n                display: \"flex\",\n                flex: 1,\n                height: 20 ,\n                alignItems: \"stretch\",  \n                borderColor: \"black\",\n                borderStyle: \"double\",  \n                padding: 20,   \n                }}           \n                />         \n                <input  type=\"submit\" value=\"Add\" onClick={() =>handleClick()} className=\"buttontodo\"/>  \n            </div>\n            <p></p>\n            {   \n                data.map((val,i)=>                \n                <div style={{\n                    display: 'flex',\n                    flex: '1',\n                    justifyContent: 'space-between',\n                }}>\n                    {\n                        changeTodo(val, i)\n                    }                 \n                    <div>\n                        {/* <button style={{\n                        backgroundColor: \"yellow\",\n                        }}\n                        index={i}\n                        onClick={()=> UpdateTodo(i)}\n                        >   \n                        Update\n                        </button> */}\n                        \n                        <button className='buttontodo'\n                        index={i}\n                        onClick={()=> update(i)}\n                        >   \n                        Update\n                        </button>\n\n                        <button className='buttontodo'\n                        index={i}\n                        onClick={() => DeleteTodo(i)}\n                        >\n                            Delete\n                        </button>\n                    </div>\n                </div>\n             )}    \n            \n\n\n\n      \n        </div>\n    )\n}\n\n\n"]},"metadata":{},"sourceType":"module"}